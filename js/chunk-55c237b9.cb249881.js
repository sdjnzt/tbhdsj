(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55c237b9"],{"10d0":function(t,e,a){},6908:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"standard-coordination"},[e("div",{staticClass:"page-header"},[t._m(0),e("div",{staticClass:"header-right"},[e("el-input",{staticClass:"search-input",attrs:{placeholder:"搜索标准名称","prefix-icon":"el-icon-search",clearable:""},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),e("el-button-group",[e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.showAddStandard}},[t._v("新增标准")]),e("el-button",{attrs:{type:"success",icon:"el-icon-upload2"},on:{click:t.importStandards}},[t._v("导入")]),e("el-button",{attrs:{icon:"el-icon-download"},on:{click:t.exportStandards}},[t._v("导出")])],1)],1)]),e("div",{staticClass:"stat-cards"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("div",{staticClass:"stat-card card-primary"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-s-grid"})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-label"},[t._v("标准总数")]),e("div",{staticClass:"stat-value"},[t._v("32")]),e("div",{staticClass:"stat-trend"},[e("span",{staticClass:"trend-up"},[t._v("+2")]),t._v(" 本月")])])])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"stat-card card-success"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-data-analysis"})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-label"},[t._v("覆盖率")]),e("div",{staticClass:"stat-value"},[t._v("100%")]),e("div",{staticClass:"stat-trend"},[e("span",{staticClass:"trend-up"},[t._v("+5%")]),t._v(" 同比")])])])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"stat-card card-warning"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-time"})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-label"},[t._v("更新时效")]),e("div",{staticClass:"stat-value"},[t._v("3天")]),e("div",{staticClass:"stat-trend"},[e("span",{staticClass:"trend-down"},[t._v("-1天")]),t._v(" 优化")])])])]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"stat-card card-danger"},[e("div",{staticClass:"stat-icon"},[e("i",{staticClass:"el-icon-warning-outline"})]),e("div",{staticClass:"stat-content"},[e("div",{staticClass:"stat-label"},[t._v("待处理问题")]),e("div",{staticClass:"stat-value"},[t._v("5")]),e("div",{staticClass:"stat-trend"},[e("span",{staticClass:"trend-down"},[t._v("-2")]),t._v(" 本周")])])])])],1)],1),e("div",{staticClass:"content-tabs"},[e("el-tabs",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("el-tab-pane",{attrs:{label:"标准管理",name:"standards"}},[e("div",{staticClass:"filter-bar"},[e("el-select",{attrs:{placeholder:"标准类型",clearable:""},model:{value:t.typeFilter,callback:function(e){t.typeFilter=e},expression:"typeFilter"}},t._l(t.typeOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-select",{attrs:{placeholder:"状态",clearable:""},model:{value:t.statusFilter,callback:function(e){t.statusFilter=e},expression:"statusFilter"}},t._l(t.statusOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-button",{attrs:{type:"text",icon:"el-icon-refresh"},on:{click:t.resetFilters}},[t._v("重置筛选")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.filteredTableData,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"name",label:"标准名称","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.viewStandardDetail(a.row)}}},[t._v(t._s(a.row.name))])]}}])}),e("el-table-column",{attrs:{prop:"type",label:"类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:t.getTypeTagClass(a.row.type),size:"medium"}},[t._v(t._s(a.row.type))])]}}])}),e("el-table-column",{attrs:{prop:"coverage",label:"覆盖率",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-progress",{attrs:{percentage:parseInt(a.row.coverage),color:t.getCoverageColor(a.row.coverage)}})]}}])}),e("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:t.getStatusTagClass(a.row.status),size:"medium"}},[t._v(t._s(a.row.status))])]}}])}),e("el-table-column",{attrs:{prop:"owner",label:"责任人",width:"120"}}),e("el-table-column",{attrs:{prop:"lastUpdate",label:"最近更新时间",width:"160"}}),e("el-table-column",{attrs:{label:"操作",width:"240",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.editStandard(a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"success",disabled:"已发布"===a.row.status},on:{click:function(e){return t.publishStandard(a.row)}}},[t._v("发布")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteStandard(a.row)}}},[t._v("删除")])]}}])})],1),e("div",{staticClass:"pagination-container"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.filteredTableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),e("el-tab-pane",{attrs:{label:"指标概览",name:"metrics"}},[e("div",{staticClass:"charts-container"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"chart-card",attrs:{shadow:"hover"}},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("标准类型分布")]),e("div",{ref:"typeChart",staticStyle:{height:"300px"}})])],1),e("el-col",{attrs:{span:12}},[e("el-card",{staticClass:"chart-card",attrs:{shadow:"hover"}},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("覆盖率趋势")]),e("div",{ref:"coverageChart",staticStyle:{height:"300px"}})])],1)],1),e("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{staticClass:"chart-card",attrs:{shadow:"hover"}},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("标准更新历史")]),e("div",{ref:"updateChart",staticStyle:{height:"300px"}})])],1)],1)],1)])],1)],1),e("el-dialog",{attrs:{visible:t.detailVisible,width:"70%",title:t.currentStandard.name,center:""},on:{"update:visible":function(e){t.detailVisible=e}}},[e("el-descriptions",{attrs:{column:2,border:""}},[e("el-descriptions-item",{attrs:{label:"标准名称"}},[t._v(t._s(t.currentStandard.name))]),e("el-descriptions-item",{attrs:{label:"标准类型"}},[t._v(t._s(t.currentStandard.type))]),e("el-descriptions-item",{attrs:{label:"覆盖率"}},[t._v(t._s(t.currentStandard.coverage))]),e("el-descriptions-item",{attrs:{label:"状态"}},[t._v(t._s(t.currentStandard.status))]),e("el-descriptions-item",{attrs:{label:"责任人"}},[t._v(t._s(t.currentStandard.owner))]),e("el-descriptions-item",{attrs:{label:"最近更新时间"}},[t._v(t._s(t.currentStandard.lastUpdate))]),e("el-descriptions-item",{attrs:{label:"标准描述",span:2}},[t._v(t._s(t.currentStandard.description||"暂无描述"))])],1),e("el-tabs",{staticStyle:{"margin-top":"20px"}},[e("el-tab-pane",{attrs:{label:"字段定义"}},[e("el-table",{attrs:{data:t.currentStandard.fields||[],border:""}},[e("el-table-column",{attrs:{prop:"name",label:"字段名称"}}),e("el-table-column",{attrs:{prop:"type",label:"数据类型",width:"120"}}),e("el-table-column",{attrs:{prop:"required",label:"是否必填",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:a.row.required?"danger":"info",size:"mini"}},[t._v(" "+t._s(a.row.required?"必填":"选填")+" ")])]}}])}),e("el-table-column",{attrs:{prop:"description",label:"字段描述"}})],1)],1),e("el-tab-pane",{attrs:{label:"应用系统"}},[e("el-table",{attrs:{data:t.currentStandard.systems||[],border:""}},[e("el-table-column",{attrs:{prop:"name",label:"系统名称"}}),e("el-table-column",{attrs:{prop:"status",label:"应用状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"已应用"===a.row.status?"success":"warning",size:"mini"}},[t._v(" "+t._s(a.row.status)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"date",label:"应用日期",width:"120"}})],1)],1)],1)],1),e("el-dialog",{attrs:{visible:t.editVisible,width:"600px",title:t.isNewStandard?"新增标准":"编辑标准",center:""},on:{"update:visible":function(e){t.editVisible=e}}},[e("el-form",{attrs:{model:t.editForm,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"标准名称"}},[e("el-input",{attrs:{placeholder:"请输入标准名称"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),e("el-form-item",{attrs:{label:"标准类型"}},[e("el-select",{attrs:{placeholder:"请选择标准类型"},model:{value:t.editForm.type,callback:function(e){t.$set(t.editForm,"type",e)},expression:"editForm.type"}},t._l(t.typeOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"覆盖率"}},[e("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:t.editForm.coverageValue,callback:function(e){t.$set(t.editForm,"coverageValue",e)},expression:"editForm.coverageValue"}}),t._v(" % ")],1),e("el-form-item",{attrs:{label:"状态"}},[e("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.editForm.status,callback:function(e){t.$set(t.editForm,"status",e)},expression:"editForm.status"}},t._l(t.statusOptions,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"责任人"}},[e("el-input",{attrs:{placeholder:"请输入责任人"},model:{value:t.editForm.owner,callback:function(e){t.$set(t.editForm,"owner",e)},expression:"editForm.owner"}})],1),e("el-form-item",{attrs:{label:"标准描述"}},[e("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"请输入标准描述"},model:{value:t.editForm.description,callback:function(e){t.$set(t.editForm,"description",e)},expression:"editForm.description"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.saveStandard}},[t._v("保存")])],1)],1)],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-left"},[e("h2",{staticClass:"page-title"},[t._v("数据规范统筹")]),e("div",{staticClass:"page-desc"},[t._v("统一数据标准，提升数据质量")])])}],r=a("313e"),l={name:"StandardCoordination",data(){return{searchQuery:"",typeFilter:"",statusFilter:"",activeTab:"standards",currentPage:1,pageSize:10,typeOptions:[{value:"结构",label:"结构标准"},{value:"内容",label:"内容标准"},{value:"质量",label:"质量标准"},{value:"安全",label:"安全标准"},{value:"交换",label:"交换标准"}],statusOptions:[{value:"草稿",label:"草稿"},{value:"待审核",label:"待审核"},{value:"已发布",label:"已发布"},{value:"已废弃",label:"已废弃"}],tableData:[{id:1,name:"人口数据标准",type:"结构",coverage:"100%",status:"已发布",owner:"张明轩",lastUpdate:"2025-05-30",description:"太白湖人口数据标准规范，包含人口基本信息、人口变动信息等",fields:[{name:"personId",type:"String",required:!0,description:"人员唯一标识"},{name:"name",type:"String",required:!0,description:"姓名"},{name:"gender",type:"Integer",required:!0,description:"性别"}],systems:[{name:"人口管理系统",status:"已应用",date:"2025-04-01"},{name:"社区服务系统",status:"未应用",date:"-"}]},{id:2,name:"企业数据标准",type:"内容",coverage:"95%",status:"已发布",owner:"刘伟峰",lastUpdate:"2025-05-30",description:"太白湖企业数据标准规范，包含企业基本信息、资质信息等",fields:[{name:"companyId",type:"String",required:!0,description:"企业唯一标识"},{name:"companyName",type:"String",required:!0,description:"企业名称"},{name:"regCapital",type:"Decimal",required:!1,description:"注册资本"}],systems:[{name:"企业服务平台",status:"已应用",date:"2025-04-15"},{name:"市场监管系统",status:"已应用",date:"2025-05-01"}]},{id:3,name:"环境数据标准",type:"结构",coverage:"97%",status:"已发布",owner:"陈晓静",lastUpdate:"2025-05-30",description:"太白湖环境数据标准规范，包含环境监测数据、污染源数据等",fields:[{name:"monitorId",type:"String",required:!0,description:"监测点位ID"},{name:"monitorName",type:"String",required:!0,description:"监测点位名称"},{name:"pm25",type:"Decimal",required:!0,description:"PM2.5浓度"}],systems:[{name:"环境监测系统",status:"已应用",date:"2025-03-20"}]},{id:4,name:"交通数据标准",type:"交换",coverage:"92%",status:"待审核",owner:"杨宏达",lastUpdate:"2025-05-29",description:"太白湖交通数据标准规范，包含道路信息、车辆信息等"},{id:5,name:"医疗数据标准",type:"安全",coverage:"98%",status:"草稿",owner:"林婉如",lastUpdate:"2025-05-28",description:"太白湖医疗数据标准规范，包含医疗机构、医疗服务等信息"}],detailVisible:!1,currentStandard:{},editVisible:!1,isNewStandard:!1,editForm:{name:"",type:"",coverageValue:90,status:"",owner:"",description:""}}},computed:{filteredTableData(){return this.tableData.filter(t=>{const e=!this.searchQuery||t.name.toLowerCase().includes(this.searchQuery.toLowerCase())||t.owner&&t.owner.toLowerCase().includes(this.searchQuery.toLowerCase()),a=!this.typeFilter||t.type===this.typeFilter,s=!this.statusFilter||t.status===this.statusFilter;return e&&a&&s})}},mounted(){this.$nextTick(()=>{"metrics"===this.activeTab&&this.initCharts()})},methods:{resetFilters(){this.searchQuery="",this.typeFilter="",this.statusFilter=""},handleSizeChange(t){this.pageSize=t},handleCurrentChange(t){this.currentPage=t},getTypeTagClass(t){const e={"结构":"primary","内容":"success","质量":"warning","安全":"danger","交换":"info"};return e[t]||"info"},getStatusTagClass(t){const e={"草稿":"info","待审核":"warning","已发布":"success","已废弃":"danger"};return e[t]||"info"},getCoverageColor(t){const e=parseInt(t);return e>=95?"#67C23A":e>=85?"#E6A23C":"#F56C6C"},viewStandardDetail(t){this.currentStandard=t,this.detailVisible=!0},editStandard(t){this.isNewStandard=!1,this.editForm={id:t.id,name:t.name,type:t.type,coverageValue:parseInt(t.coverage),status:t.status,owner:t.owner,description:t.description||""},this.editVisible=!0},showAddStandard(){this.isNewStandard=!0,this.editForm={name:"",type:"",coverageValue:90,status:"草稿",owner:"",description:""},this.editVisible=!0},saveStandard(){if(!this.editForm.name||!this.editForm.type)return void this.$message.warning("请填写完整的标准信息");const t={id:this.editForm.id||Date.now(),name:this.editForm.name,type:this.editForm.type,coverage:this.editForm.coverageValue+"%",status:this.editForm.status,owner:this.editForm.owner,lastUpdate:(new Date).toISOString().split("T")[0],description:this.editForm.description};if(this.isNewStandard)this.tableData.unshift(t),this.$message.success("标准已添加");else{const e=this.tableData.findIndex(e=>e.id===t.id);-1!==e&&this.tableData.splice(e,1,t),this.$message.success("标准已更新")}this.editVisible=!1},publishStandard(t){t.status="已发布",t.lastUpdate=(new Date).toISOString().split("T")[0],this.$message.success(t.name+"已发布")},deleteStandard(t){this.$confirm("确定要删除此标准吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.tableData=this.tableData.filter(e=>e.id!==t.id),this.$message.success("标准已删除")}).catch(()=>{})},importStandards(){this.$message.success("标准导入功能")},exportStandards(){this.$message.success("标准导出功能")},initCharts(){this.$nextTick(()=>{const t=r["init"](this.$refs.typeChart);t.setOption({tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",data:["结构标准","内容标准","质量标准","安全标准","交换标准"]},series:[{name:"标准类型",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:12,name:"结构标准"},{value:8,name:"内容标准"},{value:6,name:"质量标准"},{value:4,name:"安全标准"},{value:2,name:"交换标准"}]}]});const e=r["init"](this.$refs.coverageChart);e.setOption({tooltip:{trigger:"axis"},legend:{data:["整体覆盖率","结构标准","内容标准"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["1月","2月","3月","4月","5月","6月"]},yAxis:{type:"value",min:70},series:[{name:"整体覆盖率",type:"line",stack:"总量",data:[80,82,85,89,93,97],lineStyle:{width:3}},{name:"结构标准",type:"line",stack:"总量",data:[85,87,90,94,98,100]},{name:"内容标准",type:"line",stack:"总量",data:[75,78,82,85,90,95]}]});const a=r["init"](this.$refs.updateChart);a.setOption({tooltip:{trigger:"axis"},legend:{data:["新增标准","更新标准","废弃标准"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月"]}],yAxis:[{type:"value",name:"数量",min:0,interval:2}],series:[{name:"新增标准",type:"bar",data:[3,2,5,4,6,2]},{name:"更新标准",type:"bar",data:[5,7,8,10,12,8]},{name:"废弃标准",type:"bar",data:[1,0,2,1,0,1]}]})})}},watch:{activeTab(t){"metrics"===t&&this.$nextTick(()=>{this.initCharts()})}}},n=l,o=(a("a232"),a("2877")),d=Object(o["a"])(n,s,i,!1,null,"0768e414",null);e["default"]=d.exports},a232:function(t,e,a){"use strict";a("10d0")}}]);
//# sourceMappingURL=chunk-55c237b9.cb249881.js.map