(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cd616fb8"],{"2f29":function(e,t,i){"use strict";i("90f0")},"875a":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"emergency-page"},[t("div",{staticClass:"page-header"},[t("span",{staticClass:"page-title"},[e._v("应急态势掌控")]),t("el-input",{staticStyle:{width:"220px","margin-right":"12px"},attrs:{placeholder:"搜索事件/地点/类型",size:"small",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){e.reportDialogVisible=!0}}},[e._v("事件上报")]),t("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}},[e._v("刷新")]),t("el-button",{attrs:{icon:"el-icon-download"},on:{click:e.exportData}},[e._v("导出")])],1),t("el-row",{staticClass:"overview-row",attrs:{gutter:16}},e._l(e.overviewCards,(function(i){return t("el-col",{key:i.title,attrs:{span:4}},[t("el-card",[t("div",{staticClass:"overview-title"},[e._v(e._s(i.title))]),t("div",{staticClass:"overview-value"},[e._v(e._s(i.value))]),t("div",{staticClass:"overview-trend",class:e.trendClass(i)},[i.trend>0?t("i",{staticClass:"el-icon-caret-top"}):i.trend<0?t("i",{staticClass:"el-icon-caret-bottom"}):e._e(),t("span",[e._v(e._s(i.trend>0?"+":"")+e._s(i.trend)+"%")])])])],1)})),1),t("el-row",{staticStyle:{"margin-top":"16px"},attrs:{gutter:16}},[t("el-col",{attrs:{span:8}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[e._v("事件类型分布")]),t("div",{ref:"typeChart",staticStyle:{height:"200px"}})])],1),t("el-col",{attrs:{span:8}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[e._v("事件趋势")]),t("div",{ref:"trendChart",staticStyle:{height:"200px"}})])],1),t("el-col",{attrs:{span:8}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[e._v("响应效率分析")]),t("div",{ref:"efficiencyChart",staticStyle:{height:"200px"}})])],1)],1),t("el-row",{staticStyle:{"margin-top":"16px"},attrs:{gutter:16}},e._l(e.intelCards,(function(i){return t("el-col",{key:i.title,attrs:{span:8}},[t("el-card",[t("div",{staticClass:"intel-title"},[t("i",{class:i.icon,staticStyle:{"margin-right":"6px",color:"#F56C6C"}}),e._v(e._s(i.title))]),t("div",{staticClass:"intel-desc"},[e._v(e._s(i.desc))])])],1)})),1),t("el-card",{staticStyle:{"margin-top":"16px"}},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v("应急事件列表")]),t("el-table",{attrs:{data:e.filteredEventList,stripe:""}},[t("el-table-column",{attrs:{prop:"type",label:"事件类型"}}),t("el-table-column",{attrs:{prop:"desc",label:"描述"}}),t("el-table-column",{attrs:{prop:"location",label:"发生地点"}}),t("el-table-column",{attrs:{prop:"level",label:"级别"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-tag",{attrs:{type:e.getLevelType(i.row.level)}},[e._v(e._s(i.row.level))])]}}])}),t("el-table-column",{attrs:{prop:"responseTime",label:"响应时间(分钟)"}}),t("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-tag",{attrs:{type:e.getStatusType(i.row.status)}},[e._v(e._s(i.row.status))])]}}])}),t("el-table-column",{attrs:{prop:"time",label:"发生时间"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.viewEvent(i.row)}}},[e._v("详情")]),t("el-button",{attrs:{size:"mini",type:"success",disabled:"已处置"===i.row.status},on:{click:function(t){return e.handleDeal(i.row)}}},[e._v("处置")])]}}])})],1)],1),t("el-card",{staticStyle:{"margin-top":"16px"}},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v("应急事件流")]),t("el-timeline",e._l(e.eventTimeline,(function(i,s){return t("el-timeline-item",{key:s,attrs:{timestamp:i.time,color:i.color}},[t("span",[e._v(e._s(i.content))])])})),1)],1),t("el-dialog",{attrs:{visible:e.eventDialogVisible,width:"420px",title:e.eventDetail.type+"详情"},on:{"update:visible":function(t){e.eventDialogVisible=t}}},[e.eventDetail?t("div",[t("p",[t("b",[e._v("描述：")]),e._v(e._s(e.eventDetail.desc))]),t("p",[t("b",[e._v("发生地点：")]),e._v(e._s(e.eventDetail.location))]),t("p",[t("b",[e._v("级别：")]),e._v(e._s(e.eventDetail.level))]),t("p",[t("b",[e._v("响应时间：")]),e._v(e._s(e.eventDetail.responseTime)+" 分钟")]),t("p",[t("b",[e._v("状态：")]),e._v(e._s(e.eventDetail.status))]),t("p",[t("b",[e._v("发生时间：")]),e._v(e._s(e.eventDetail.time))]),t("p",[t("b",[e._v("处置措施：")]),e._v(e._s(e.eventDetail.action||"——"))])]):e._e()]),t("el-dialog",{attrs:{visible:e.reportDialogVisible,width:"420px",title:"事件上报"},on:{"update:visible":function(t){e.reportDialogVisible=t}}},[t("el-form",{ref:"reportForm",attrs:{model:e.reportForm,rules:e.reportRules,"label-width":"90px"}},[t("el-form-item",{attrs:{label:"事件类型",prop:"type"}},[t("el-select",{attrs:{placeholder:"请选择事件类型"},model:{value:e.reportForm.type,callback:function(t){e.$set(e.reportForm,"type",t)},expression:"reportForm.type"}},e._l(e.eventTypes,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"描述",prop:"desc"}},[t("el-input",{attrs:{type:"textarea",rows:2,maxlength:"100","show-word-limit":""},model:{value:e.reportForm.desc,callback:function(t){e.$set(e.reportForm,"desc",t)},expression:"reportForm.desc"}})],1),t("el-form-item",{attrs:{label:"发生地点",prop:"location"}},[t("el-select",{attrs:{placeholder:"请选择地点"},model:{value:e.reportForm.location,callback:function(t){e.$set(e.reportForm,"location",t)},expression:"reportForm.location"}},e._l(e.locations,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"级别",prop:"level"}},[t("el-select",{attrs:{placeholder:"请选择级别"},model:{value:e.reportForm.level,callback:function(t){e.$set(e.reportForm,"level",t)},expression:"reportForm.level"}},e._l(e.levels,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"发生时间",prop:"time"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"选择时间"},model:{value:e.reportForm.time,callback:function(t){e.$set(e.reportForm,"time",t)},expression:"reportForm.time"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.reportDialogVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitReport}},[e._v("提交")])],1)],1)],1)},l=[],r=i("313e"),a={name:"EmergencySituation",data(){const e=["太白湖街道","南阳湖街道","孔庄街道","新城街道","太白湖旅游度假区","太白湖高新技术产业园区","太白湖现代农业示范区"],t=["火灾","交通事故","医疗急救","自然灾害","公共卫生","危险品泄漏"],i=["Ⅰ级(特别重大)","Ⅱ级(重大)","Ⅲ级(较大)","Ⅳ级(一般)"],s=[{type:"火灾",desc:"新城街道居民楼发生火灾，已疏散居民。",location:"新城街道",level:"Ⅱ级(重大)",responseTime:6,status:"已处置",time:"2025-06-04 09:10",action:"消防队及时扑救，未造成人员伤亡。"},{type:"交通事故",desc:"南阳湖街道发生多车追尾事故。",location:"南阳湖街道",level:"Ⅲ级(较大)",responseTime:7,status:"已处置",time:"2025-06-04 08:50",action:"交警、120现场处置，交通已恢复。"},{type:"医疗急救",desc:"太白湖街道一工地工人突发疾病。",location:"太白湖街道",level:"Ⅳ级(一般)",responseTime:4,status:"已处置",time:"2025-06-03 17:30",action:"120及时送医，已脱离危险。"},{type:"自然灾害",desc:"孔庄街道出现短时强降雨，部分道路积水。",location:"孔庄街道",level:"Ⅲ级(较大)",responseTime:8,status:"已处置",time:"2025-06-03 15:20",action:"排水部门及时排涝，交通基本恢复。"},{type:"公共卫生",desc:"太白湖旅游度假区出现疑似食物中毒事件。",location:"太白湖旅游度假区",level:"Ⅱ级(重大)",responseTime:5,status:"处置中",time:"2025-06-03 14:10",action:"疾控中心已介入调查。"},{type:"危险品泄漏",desc:"高新技术产业园区一企业发生危险品泄漏。",location:"太白湖高新技术产业园区",level:"Ⅰ级(特别重大)",responseTime:9,status:"已处置",time:"2025-06-02 10:30",action:"应急队伍及时封控，未造成环境污染。"},{type:"火灾",desc:"南阳湖街道一仓库发生火灾。",location:"南阳湖街道",level:"Ⅳ级(一般)",responseTime:3,status:"已处置",time:"2025-06-02 09:50",action:"火势及时扑灭，无人员伤亡。"},{type:"交通事故",desc:"太白湖街道公交站发生交通事故。",location:"太白湖街道",level:"Ⅳ级(一般)",responseTime:2,status:"已处置",time:"2025-06-01 16:10",action:"交警现场处置，交通已恢复。"},{type:"医疗急救",desc:"孔庄街道一老人突发疾病。",location:"孔庄街道",level:"Ⅲ级(较大)",responseTime:5,status:"已处置",time:"2025-06-01 11:20",action:"120及时送医，已脱离危险。"},{type:"自然灾害",desc:"太白湖现代农业示范区遭遇大风天气。",location:"太白湖现代农业示范区",level:"Ⅳ级(一般)",responseTime:4,status:"已处置",time:"2025-06-01 10:10",action:"农业部门已发布预警，未造成损失。"}];return{search:"",overviewCards:[{title:"今日应急事件数",value:3,trend:0},{title:"已处置事件数",value:8,trend:1.2},{title:"待处置事件数",value:1,trend:-.5},{title:"平均响应时间",value:"5.4分钟",trend:-.2},{title:"处置成功率",value:"97.8%",trend:.6},{title:"重点事件数",value:2,trend:0}],eventList:s,eventTimeline:[{time:"2025-06-04 09:20",content:"完成新城街道火灾应急处置",color:"#F56C6C"},{time:"2025-06-04 08:55",content:"南阳湖街道交通事故已恢复通行",color:"#409EFF"},{time:"2025-06-03 17:40",content:"高新园区危险品泄漏已安全处置",color:"#E6A23C"},{time:"2025-06-03 15:30",content:"孔庄街道强降雨积水已排除",color:"#67C23A"}],intelCards:[{title:"高发事件分析",desc:"本月火灾和交通事故高发，重点关注新城街道和南阳湖街道。",icon:"el-icon-warning-outline"},{title:"响应瓶颈诊断",desc:"部分自然灾害响应时间偏长，建议加强应急演练。",icon:"el-icon-timer"},{title:"智能应急建议",desc:"建议加强对旅游度假区食品安全巡查。",icon:"el-icon-s-opportunity"}],eventTypes:t,locations:e,levels:i,eventDialogVisible:!1,eventDetail:{},reportDialogVisible:!1,reportForm:{type:"",desc:"",location:"",level:"",time:""},reportRules:{type:[{required:!0,message:"请选择事件类型",trigger:"change"}],desc:[{required:!0,message:"请填写描述",trigger:"blur"}],location:[{required:!0,message:"请选择地点",trigger:"change"}],level:[{required:!0,message:"请选择级别",trigger:"change"}],time:[{required:!0,message:"请选择时间",trigger:"change"}]}}},computed:{filteredEventList(){return this.search?this.eventList.filter(e=>e.desc.includes(this.search)||e.location.includes(this.search)||e.type.includes(this.search)):this.eventList}},mounted(){this.initTypeChart(),this.initTrendChart(),this.initEfficiencyChart()},methods:{refresh(){this.$message.success("数据已刷新")},exportData(){this.$message.success("导出成功（模拟）")},viewEvent(e){this.eventDetail=e,this.eventDialogVisible=!0},handleDeal(e){e.status="已处置",this.$message.success("事件已处置")},trendClass(e){return e.trend>0?"trend-up":e.trend<0?"trend-down":"trend-flat"},getLevelType(e){return e.includes("Ⅰ级")?"danger":e.includes("Ⅱ级")?"warning":e.includes("Ⅲ级")?"info":"success"},getStatusType(e){return"已处置"===e?"success":"处置中"===e?"warning":"info"},submitReport(){this.$refs.reportForm.validate(e=>{if(!e)return;const t={...this.reportForm,responseTime:Math.floor(8*Math.random())+2,status:"待处置",action:"",time:this.reportForm.time instanceof Date?this.reportForm.time.toLocaleString():this.reportForm.time};this.eventList.unshift(t),this.eventTimeline.unshift({time:t.time,content:`${t.location}${t.type}事件已上报`,color:"#F56C6C"}),this.reportDialogVisible=!1,this.$message.success("事件上报成功"),this.$refs.reportForm.resetFields()})},initTypeChart(){this.$nextTick(()=>{const e=r["init"](this.$refs.typeChart);e.setOption({tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"事件类型分布",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:16,fontWeight:"bold"}},labelLine:{show:!1},data:[{value:3,name:"火灾"},{value:2,name:"交通事故"},{value:2,name:"医疗急救"},{value:2,name:"自然灾害"},{value:1,name:"公共卫生"},{value:1,name:"危险品泄漏"}]}]})})},initTrendChart(){this.$nextTick(()=>{const e=r["init"](this.$refs.trendChart);e.setOption({tooltip:{trigger:"axis"},xAxis:{type:"category",data:["5-29","5-30","5-31","6-1","6-2","6-3","6-4"]},yAxis:{type:"value"},series:[{name:"事件数",type:"line",data:[2,3,1,4,2,3,3],itemStyle:{color:"#F56C6C"}}]})})},initEfficiencyChart(){this.$nextTick(()=>{const e=r["init"](this.$refs.efficiencyChart);e.setOption({tooltip:{trigger:"axis"},xAxis:{type:"category",data:["5-29","5-30","5-31","6-1","6-2","6-3","6-4"]},yAxis:{type:"value"},series:[{name:"平均响应时间",type:"bar",data:[6.2,5.8,5.5,5.2,5,4.8,5.4],itemStyle:{color:"#67C23A"}}]})})}}},o=a,n=(i("2f29"),i("2877")),c=Object(n["a"])(o,s,l,!1,null,"a23fef9a",null);t["default"]=c.exports},"90f0":function(e,t,i){}}]);
//# sourceMappingURL=chunk-cd616fb8.7ff271ff.js.map