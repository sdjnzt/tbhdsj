(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43375370"],{"34b2":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fusion-integration"},[t("div",{staticClass:"page-header"},[e._m(0),t("div",{staticClass:"header-right"},[t("el-input",{staticClass:"search-input",attrs:{placeholder:"搜索融合数据","prefix-icon":"el-icon-search",clearable:""},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}}),t("el-button-group",[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.showAddFusionTask}},[e._v("新建融合任务")]),t("el-button",{attrs:{type:"success",icon:"el-icon-view"},on:{click:e.viewDataRelations}},[e._v("关系预览")]),t("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refreshData}},[e._v("刷新")])],1)],1)]),t("div",{staticClass:"stat-cards"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("div",{staticClass:"stat-card card-primary"},[t("div",{staticClass:"stat-icon"},[t("i",{staticClass:"el-icon-s-data"})]),t("div",{staticClass:"stat-content"},[t("div",{staticClass:"stat-label"},[e._v("融合数据量")]),t("div",{staticClass:"stat-value"},[e._v("320万")]),t("div",{staticClass:"stat-trend"},[t("span",{staticClass:"trend-up"},[e._v("+12%")]),e._v(" 同比")])])])]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"stat-card card-success"},[t("div",{staticClass:"stat-icon"},[t("i",{staticClass:"el-icon-s-check"})]),t("div",{staticClass:"stat-content"},[t("div",{staticClass:"stat-label"},[e._v("融合准确率")]),t("div",{staticClass:"stat-value"},[e._v("97%")]),t("div",{staticClass:"stat-trend"},[t("span",{staticClass:"trend-up"},[e._v("+1.5%")]),e._v(" 环比")])])])]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"stat-card card-warning"},[t("div",{staticClass:"stat-icon"},[t("i",{staticClass:"el-icon-time"})]),t("div",{staticClass:"stat-content"},[t("div",{staticClass:"stat-label"},[e._v("平均生成时效")]),t("div",{staticClass:"stat-value"},[e._v("45分钟")]),t("div",{staticClass:"stat-trend"},[t("span",{staticClass:"trend-down"},[e._v("-10分钟")]),e._v(" 优化")])])])]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"stat-card card-info"},[t("div",{staticClass:"stat-icon"},[t("i",{staticClass:"el-icon-connection"})]),t("div",{staticClass:"stat-content"},[t("div",{staticClass:"stat-label"},[e._v("源系统数量")]),t("div",{staticClass:"stat-value"},[e._v("15")]),t("div",{staticClass:"stat-trend"},[t("span",{staticClass:"trend-up"},[e._v("+2")]),e._v(" 本季度")])])])])],1)],1),t("div",{staticClass:"content-section"},[t("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[t("el-tab-pane",{attrs:{label:"融合数据管理",name:"data"}},[t("div",{staticClass:"filter-bar"},[t("el-select",{attrs:{placeholder:"数据类型",clearable:""},model:{value:e.typeFilter,callback:function(t){e.typeFilter=t},expression:"typeFilter"}},e._l(e.typeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-select",{attrs:{placeholder:"状态",clearable:""},model:{value:e.statusFilter,callback:function(t){e.statusFilter=t},expression:"statusFilter"}},e._l(e.statusOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-button",{attrs:{type:"text",icon:"el-icon-refresh"},on:{click:e.resetFilters}},[e._v("重置筛选")])],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.filteredTableData,border:"",stripe:""}},[t("el-table-column",{attrs:{prop:"name",label:"数据名称","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-link",{attrs:{type:"primary"},on:{click:function(t){return e.viewDataDetail(a.row)}}},[e._v(e._s(a.row.name))])]}}])}),t("el-table-column",{attrs:{prop:"source",label:"数据来源",width:"120"}}),t("el-table-column",{attrs:{prop:"type",label:"数据类型",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:e.getTypeTagClass(a.row.type),size:"medium"}},[e._v(e._s(a.row.type))])]}}])}),t("el-table-column",{attrs:{prop:"accuracy",label:"准确率",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-progress",{attrs:{percentage:parseInt(a.row.accuracy),color:e.getQualityColor(parseInt(a.row.accuracy))}})]}}])}),t("el-table-column",{attrs:{prop:"generateTime",label:"生成时效",width:"120"}}),t("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"140"}}),t("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:e.getStatusTagClass(a.row.status),size:"medium"}},[e._v(e._s(a.row.status))])]}}])}),t("el-table-column",{attrs:{label:"操作",width:"220",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.editFusionData(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.refreshFusionData(a.row)}}},[e._v("刷新")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteFusionData(a.row)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.filteredTableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),t("el-tab-pane",{attrs:{label:"融合关系分析",name:"relations"}},[t("div",{staticClass:"relation-toolbar"},[t("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:"选择融合数据"},on:{change:e.generateRelations},model:{value:e.selectedData,callback:function(t){e.selectedData=t},expression:"selectedData"}},e._l(e.tableData,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),t("div",{staticClass:"toolbar-actions"},[t("el-radio-group",{attrs:{size:"small"},on:{change:e.generateRelations},model:{value:e.relationType,callback:function(t){e.relationType=t},expression:"relationType"}},[t("el-radio-button",{attrs:{label:"source"}},[e._v("数据源")]),t("el-radio-button",{attrs:{label:"target"}},[e._v("目标端")]),t("el-radio-button",{attrs:{label:"both"}},[e._v("全部")])],1)],1)],1),t("div",{staticClass:"relation-container"},[e.selectedData?t("div",{ref:"relationChart",staticClass:"relation-chart"}):t("div",{staticClass:"no-data"},[t("i",{staticClass:"el-icon-connection"}),t("p",[e._v("请选择融合数据以查看数据关系")])])])])],1)],1),t("el-dialog",{attrs:{visible:e.detailVisible,width:"70%",title:e.currentData.name+" - 融合数据详情",center:""},on:{"update:visible":function(t){e.detailVisible=t}}},[t("el-descriptions",{attrs:{column:2,border:""}},[t("el-descriptions-item",{attrs:{label:"数据名称"}},[e._v(e._s(e.currentData.name))]),t("el-descriptions-item",{attrs:{label:"数据来源"}},[e._v(e._s(e.currentData.source))]),t("el-descriptions-item",{attrs:{label:"数据类型"}},[e._v(e._s(e.currentData.type))]),t("el-descriptions-item",{attrs:{label:"准确率"}},[e._v(e._s(e.currentData.accuracy))]),t("el-descriptions-item",{attrs:{label:"生成时效"}},[e._v(e._s(e.currentData.generateTime))]),t("el-descriptions-item",{attrs:{label:"更新时间"}},[e._v(e._s(e.currentData.updateTime))]),t("el-descriptions-item",{attrs:{label:"状态"}},[e._v(e._s(e.currentData.status))]),t("el-descriptions-item",{attrs:{label:"责任人"}},[e._v(e._s(e.currentData.owner))]),t("el-descriptions-item",{attrs:{label:"描述信息",span:2}},[e._v(e._s(e.currentData.description))])],1),t("el-tabs",{staticStyle:{"margin-top":"20px"}},[t("el-tab-pane",{attrs:{label:"数据结构"}},[t("el-table",{attrs:{data:e.currentFields,border:""}},[t("el-table-column",{attrs:{prop:"name",label:"字段名称"}}),t("el-table-column",{attrs:{prop:"type",label:"数据类型",width:"120"}}),t("el-table-column",{attrs:{prop:"source",label:"来源字段"}}),t("el-table-column",{attrs:{prop:"description",label:"描述"}})],1)],1),t("el-tab-pane",{attrs:{label:"关联关系"}},[t("div",{ref:"detailRelationChart",staticStyle:{height:"300px"}})]),t("el-tab-pane",{attrs:{label:"数据质量"}},[t("el-table",{attrs:{data:e.qualityRecords,border:""}},[t("el-table-column",{attrs:{prop:"date",label:"检测日期",width:"120"}}),t("el-table-column",{attrs:{prop:"completeness",label:"完整性",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-progress",{attrs:{percentage:a.row.completeness,color:e.getQualityColor(a.row.completeness)}})]}}])}),t("el-table-column",{attrs:{prop:"accuracy",label:"准确性",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-progress",{attrs:{percentage:a.row.accuracy,color:e.getQualityColor(a.row.accuracy)}})]}}])}),t("el-table-column",{attrs:{prop:"consistency",label:"一致性",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-progress",{attrs:{percentage:a.row.consistency,color:e.getQualityColor(a.row.consistency)}})]}}])}),t("el-table-column",{attrs:{prop:"issues",label:"问题数",width:"100"}}),t("el-table-column",{attrs:{prop:"status",label:"处理状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"已处理"===a.row.status?"success":"warning",size:"mini"}},[e._v(e._s(a.row.status))])]}}])})],1)],1)],1)],1),t("el-dialog",{attrs:{visible:e.editVisible,width:"600px",title:e.isNewData?"新建融合任务":"编辑融合数据",center:""},on:{"update:visible":function(t){e.editVisible=t}}},[t("el-form",{attrs:{model:e.editForm,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"数据名称"}},[t("el-input",{attrs:{placeholder:"请输入数据名称"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1),t("el-form-item",{attrs:{label:"数据来源"}},[t("el-input",{attrs:{placeholder:"请输入数据来源"},model:{value:e.editForm.source,callback:function(t){e.$set(e.editForm,"source",t)},expression:"editForm.source"}})],1),t("el-form-item",{attrs:{label:"数据类型"}},[t("el-select",{attrs:{placeholder:"请选择数据类型"},model:{value:e.editForm.type,callback:function(t){e.$set(e.editForm,"type",t)},expression:"editForm.type"}},e._l(e.typeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.isNewData?t("el-form-item",{attrs:{label:"融合策略"}},[t("el-select",{attrs:{placeholder:"请选择融合策略"},model:{value:e.editForm.strategy,callback:function(t){e.$set(e.editForm,"strategy",t)},expression:"editForm.strategy"}},[t("el-option",{attrs:{label:"联邦查询",value:"联邦查询"}}),t("el-option",{attrs:{label:"ETL抽取",value:"ETL抽取"}}),t("el-option",{attrs:{label:"实时同步",value:"实时同步"}})],1)],1):e._e(),t("el-form-item",{attrs:{label:"状态"}},[t("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},e._l(e.statusOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"责任人"}},[t("el-input",{attrs:{placeholder:"请输入责任人"},model:{value:e.editForm.owner,callback:function(t){e.$set(e.editForm,"owner",t)},expression:"editForm.owner"}})],1),t("el-form-item",{attrs:{label:"描述信息"}},[t("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"请输入描述信息"},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description",t)},expression:"editForm.description"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.saveFusionData}},[e._v("保存")])],1)],1)],1)},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"header-left"},[t("h2",{staticClass:"page-title"},[e._v("数据融合集成")]),t("div",{staticClass:"page-desc"},[e._v("融合多源异构数据，提供一致性视图，实现数据共享和协同分析。")])])}],l=a("313e"),r={name:"FusionIntegration",data(){return{searchQuery:"",typeFilter:"",statusFilter:"",activeTab:"data",currentPage:1,pageSize:10,typeOptions:[{value:"人口数据",label:"人口数据"},{value:"企业数据",label:"企业数据"},{value:"环境数据",label:"环境数据"},{value:"交通数据",label:"交通数据"},{value:"医疗数据",label:"医疗数据"}],statusOptions:[{value:"已完成",label:"已完成"},{value:"同步中",label:"同步中"},{value:"待更新",label:"待更新"},{value:"已失效",label:"已失效"}],selectedData:null,relationType:"both",detailVisible:!1,currentData:{},currentFields:[],qualityRecords:[],editVisible:!1,isNewData:!1,editForm:{name:"",source:"",type:"",strategy:"",status:"",owner:"",description:""},tableData:[{id:1,name:"人口融合数据",source:"公安+卫健",type:"人口数据",accuracy:"98%",generateTime:"30分钟",updateTime:"2025-05-30",owner:"张云峰",status:"已完成",description:"整合公安部门和卫健部门的人口数据，形成统一人口视图"},{id:2,name:"企业融合数据",source:"工商+税务",type:"企业数据",accuracy:"95%",generateTime:"50分钟",updateTime:"2025-05-29",owner:"李静怡",status:"已完成",description:"整合工商、税务部门的企业信息，提供完整企业画像"},{id:3,name:"环境融合数据",source:"环保+气象",type:"环境数据",accuracy:"97%",generateTime:"40分钟",updateTime:"2025-05-30",owner:"王建国",status:"已完成",description:"融合环保和气象数据，支持环境综合分析和预警"},{id:4,name:"交通融合数据",source:"交通+公安",type:"交通数据",accuracy:"94%",generateTime:"45分钟",updateTime:"2025-05-28",owner:"刘明远",status:"同步中",description:"融合交通部门和公安部门的交通数据，支持交通综合分析"},{id:5,name:"医疗融合数据",source:"卫健+医保",type:"医疗数据",accuracy:"96%",generateTime:"60分钟",updateTime:"2025-05-27",owner:"陈晓华",status:"待更新",description:"整合医疗机构和医保数据，提供医疗服务分析"}]}},computed:{filteredTableData(){return this.searchQuery||this.typeFilter||this.statusFilter?this.tableData.filter(e=>{const t=!this.searchQuery||e.name.toLowerCase().includes(this.searchQuery.toLowerCase())||e.source&&e.source.toLowerCase().includes(this.searchQuery.toLowerCase()),a=!this.typeFilter||e.type===this.typeFilter,s=!this.statusFilter||e.status===this.statusFilter;return t&&a&&s}):this.tableData}},mounted(){"relations"===this.activeTab&&this.selectedData&&this.$nextTick(()=>{this.generateRelations()})},methods:{showAddFusionTask(){this.isNewData=!0,this.editForm={name:"",source:"",type:"",strategy:"联邦查询",status:"待更新",owner:"",description:""},this.editVisible=!0},viewDataRelations(){this.activeTab="relations",this.$message.success("正在分析数据融合关系"),this.$nextTick(()=>{this.selectedData&&this.generateRelations()})},refreshData(){this.$message.success("数据已刷新")},resetFilters(){this.searchQuery="",this.typeFilter="",this.statusFilter=""},handleSizeChange(e){this.pageSize=e},handleCurrentChange(e){this.currentPage=e},getTypeTagClass(e){const t={"人口数据":"primary","企业数据":"success","环境数据":"info","交通数据":"warning","医疗数据":"danger"};return t[e]||"info"},getStatusTagClass(e){const t={"已完成":"success","同步中":"primary","待更新":"warning","已失效":"danger"};return t[e]||"info"},getQualityColor(e){return e>=90?"#67C23A":e>=75?"#E6A23C":"#F56C6C"},viewDataDetail(e){this.currentData=e,this.currentFields=[{name:"person_id",type:"varchar(32)",source:"公安.身份证号/卫健.个人编号",description:"人员唯一标识"},{name:"name",type:"varchar(50)",source:"公安.姓名/卫健.姓名",description:"姓名"},{name:"gender",type:"char(1)",source:"公安.性别",description:"性别"},{name:"birthday",type:"date",source:"公安.出生日期",description:"出生日期"},{name:"id_number",type:"varchar(18)",source:"公安.身份证号",description:"身份证号"},{name:"address",type:"varchar(200)",source:"公安.住址",description:"住址"},{name:"phone",type:"varchar(15)",source:"卫健.联系电话",description:"联系电话"},{name:"medical_id",type:"varchar(32)",source:"卫健.医保编号",description:"医保编号"}],this.qualityRecords=[{date:"2025-06-01",completeness:98,accuracy:95,consistency:97,issues:12,status:"已处理"},{date:"2025-05-25",completeness:96,accuracy:94,consistency:95,issues:18,status:"已处理"},{date:"2025-05-18",completeness:95,accuracy:92,consistency:93,issues:22,status:"已处理"},{date:"2025-05-11",completeness:93,accuracy:91,consistency:92,issues:28,status:"已处理"}],this.detailVisible=!0,this.$nextTick(()=>{this.initDetailRelationChart()})},editFusionData(e){this.isNewData=!1,this.editForm={id:e.id,name:e.name,source:e.source,type:e.type,status:e.status,owner:e.owner,description:e.description},this.editVisible=!0},deleteFusionData(e){this.$confirm("确定要删除此融合数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.tableData=this.tableData.filter(t=>t.id!==e.id),this.$message.success("融合数据已删除")}).catch(()=>{})},refreshFusionData(e){this.$message({message:"正在刷新数据："+e.name,type:"info"}),setTimeout(()=>{this.$message.success("数据刷新成功")},1500)},saveFusionData(){if(!this.editForm.name||!this.editForm.source)return void this.$message.warning("请填写完整的融合数据信息");const e={id:this.editForm.id||Date.now(),name:this.editForm.name,source:this.editForm.source,type:this.editForm.type,accuracy:"96%",generateTime:"45分钟",updateTime:(new Date).toISOString().split("T")[0],owner:this.editForm.owner,status:this.editForm.status,description:this.editForm.description};if(this.isNewData)this.tableData.unshift(e),this.$message.success("融合任务已创建");else{const t=this.tableData.findIndex(t=>t.id===e.id);-1!==t&&this.tableData.splice(t,1,e),this.$message.success("融合数据已更新")}this.editVisible=!1},getDataName(e){const t=this.tableData.find(t=>t.id===e);return t?t.name:""},generateRelations(){this.selectedData&&this.$nextTick(()=>{const e=l["init"](this.$refs.relationChart),t=[{id:"node0",name:this.getDataName(this.selectedData),category:0,symbolSize:50},{id:"node1",name:"公安人口数据",category:1,symbolSize:40},{id:"node2",name:"卫健人口数据",category:1,symbolSize:40},{id:"node3",name:"医保数据",category:1,symbolSize:35},{id:"node4",name:"人口分析应用",category:2,symbolSize:35},{id:"node5",name:"政务服务系统",category:2,symbolSize:35},{id:"node6",name:"医疗服务系统",category:2,symbolSize:30}],a=[{source:"node1",target:"node0",value:"数据源"},{source:"node2",target:"node0",value:"数据源"},{source:"node3",target:"node0",value:"数据源"},{source:"node0",target:"node4",value:"使用方"},{source:"node0",target:"node5",value:"使用方"},{source:"node0",target:"node6",value:"使用方"}],s=[{name:"融合数据"},{name:"数据源"},{name:"使用方"}],i={tooltip:{trigger:"item",formatter:function(e){return"edge"===e.dataType?e.data.value:e.data.name}},legend:[{data:s.map((function(e){return e.name}))}],series:[{type:"graph",layout:"force",data:t,links:a,categories:s,roam:!0,label:{show:!0,position:"right"},force:{repulsion:100,edgeLength:[80,120]},edgeSymbol:["circle","arrow"],edgeSymbolSize:[4,8],edgeLabel:{show:!0,formatter:function(e){return e.data.value},fontSize:12},lineStyle:{opacity:.9,width:2,curveness:0}}]};e.setOption(i),window.addEventListener("resize",(function(){e.resize()}))})},initDetailRelationChart(){this.$nextTick(()=>{if(!this.$refs.detailRelationChart)return;const e=l["init"](this.$refs.detailRelationChart),t={tooltip:{},series:[{type:"graph",layout:"force",data:[{id:"detail0",name:this.currentData.name,symbolSize:50,category:0},{id:"detail1",name:"数据源1",symbolSize:30,category:1},{id:"detail2",name:"数据源2",symbolSize:30,category:1},{id:"detail3",name:"使用方1",symbolSize:30,category:2},{id:"detail4",name:"使用方2",symbolSize:30,category:2}],links:[{source:"detail1",target:"detail0"},{source:"detail2",target:"detail0"},{source:"detail0",target:"detail3"},{source:"detail0",target:"detail4"}],categories:[{name:"当前"},{name:"源系统"},{name:"目标系统"}],roam:!0,label:{show:!0},force:{repulsion:80}}]};e.setOption(t)})}},watch:{activeTab(e){"relations"===e&&this.selectedData&&this.$nextTick(()=>{this.generateRelations()})}}},n=r,o=(a("625c"),a("2877")),c=Object(o["a"])(n,s,i,!1,null,"212eba74",null);t["default"]=c.exports},"625c":function(e,t,a){"use strict";a("cd56")},cd56:function(e,t,a){}}]);
//# sourceMappingURL=chunk-43375370.78af3317.js.map